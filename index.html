<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>CB AI Agent Chat</title>

  <style type="text/css">
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Segoe UI', Arial, sans-serif;
    }

    .cb-chat-wrapper { 
      font-family: inherit; 
    }

    .cb-launcher {
      position: fixed;
      bottom: 25px;
      right: 25px;
      z-index: 10001;
      display: flex;
      align-items: center;
      background: #ffffff;
      border: 1px solid #d1d1d1;
      border-radius: 12px;
      padding: 6px 6px 6px 14px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .cb-launcher-logo { width: 30px; height: 30px; object-fit: contain; }
    .cb-launcher-text { font-weight: 600; font-size: 16px; color: #000000; margin: 0 15px; }
    .cb-launcher-icon-box {
      background: #0242bd;
      width: 34px; height: 34px;
      border-radius: 8px;
      display: flex; align-items: center; justify-content: center;
      color: #ffffff; font-size: 22px; font-weight: bold;
    }

    .cb-panel {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      background: #ffffff;
      z-index: 10002;
      display: none;
      flex-direction: column;
      box-shadow: none;
      transition: transform 0.3s ease-out;
      transform: translateX(100%);
      border: 1px solid #000000;
    }

    .cb-panel.open {
      display: flex;
      transform: translateX(0);
      height: 100vh;
    }

  


    /* Desktop / tablet → side panel */
    @media (min-width: 768px) {
      .cb-panel {
        inset: auto 0 0 auto;
        width: 420px;
        height: 100%;
        max-width: 90vw;
        border-top-left-radius: 12px;
        border-bottom-left-radius: 12px;
        box-shadow: -10px 0 30px rgba(0,0,0,0.1);
      }
    }

    .cb-header-banner {
      background-color: #221C9E;
      color: #ffffff;
      padding: 12px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-shrink: 0;
      height: 40px;
    }

    .cb-header-logo { width: 80px; height: 50px; object-fit: contain; margin-right:10px;}
    .cb-banner-text { font-weight: 600; font-size: 18px; position:relative; bottom:12px;}
    .cb-close-btn { font-size: 34px; color: #ffffff; cursor: pointer; line-height: 1; }

    .cb-chat-container { 
      flex: 1; 
      background: #ffffff; 
      display: flex; 
      flex-direction: column; 
      overflow: hidden; 
      position: relative; 
    }

    #webchat { 
      flex: 1 !important; 
      height: 100% !important; 
      width: 100% !important;
    }

    .cb-ai-disclaimer {
      position: sticky;
      bottom: 104px;
      right: 1px;
      text-align: right;
      font-size: 10.5px;
      color: #666;
      background: #ffffff;
      padding: 4px 0;
      z-index: 10;
      pointer-events: none;
      width:100%;  
      border-top:2px solid #000000;   
    }

    /* ── Base chat typography ── */
    [role="main"] .webchat__text-content, 
    [role="main"] .webchat__text-content *,
    #webchat .webchat__send-box__text-box__input {
      font-size: 14px !important;
      color: #000000 !important;
    }

    .webchat__text-content,
    .webchat__text-content * {
      font-size: 14px !important;
      color: #000000 !important;
    }

    .webchat__send-box__text-box__input {
      background: #f8f9fa !important;
      padding: 12px !important;
      font-size: 14px !important;
    }

    /* Suggested prompts – your original look */
    [role="main"] .webchat__suggested-actions__item-list {
      flex-direction: column !important;
      align-items: flex-end !important;
      padding: 5px 10px 15px !important;
      margin: 0 !important;
    }

    [role="main"] .webchat__suggested-action {
      margin:0 !important;
      width: 83% !important;
      min-height: 6vh !important;
      border: 1px solid #0242bd !important;
      border-radius: 10px !important;
      background-color: #ffffff !important;
      cursor: pointer !important;
      transition: background-color 0.2s ease !important;
      position: relative !important;
      bottom: 10px !important;
      left: 0 !important;
      margin-left: auto !important;
      margin-right: 0 !important;
    }

    [role="main"] .webchat__suggested-action:hover {
      background-color: #e3f2fd !important;
    }

    [role="main"] .webchat__suggested-action__text {
      color: black !important;
      font-size: 10.5px !important;
      font-weight: 500 !important;
      padding: 1px !important;
      text-align: center !important;
      line-height: 1.3 !important;
      white-space: nowrap !important;
      overflow: hidden !important;
      text-overflow: ellipsis !important;
      display: inline !important;
    }

    [role="main"] .webchat__suggested-actions__stack {
      border-bottom: none !important;
      margin-bottom:20px;
    } 

    [role="main"] .webchat__send-box__main {
      border: 1px solid #000000 !important;
      border-radius:10px;
      height: 24px !important;
      padding:10px !important;
      margin-left:12px;
      margin-right:12px;
      margin-top:30px;
      position:relative !important;
      bottom:0px !important;
    }

    #webchat .webchat__send-box__button {
      align-self: flex-end !important;
      align-items: center !important;
      margin-bottom: 10px !important;
      padding-right: 20px !important;
      cursor: pointer !important;
    }

    [role="main"] .webchat__basic-transcript {
      height: 100% !important;
      overflow-y: auto !important;
      -webkit-overflow-scrolling: touch;
    }

    [role="main"] .webchat__basic-transcript__scrollable {
      position: static !important;
      height: auto !important;
      bottom: auto !important;
      top: 10px !important;
      margin-bottom: -80px !important;
      padding-top: 20px !important;
      padding-bottom: 90px !important;
      box-sizing: border-box; 
    }

    [role="main"] .webchat__basic-transcript__activity-body {
      border-radius: 10px !important;
      text-align: left !important;
      position:relative;
      top:20px;
    }

    /* Hide citations / references */
    .webchat__render-markdown__pure-identifier,
    .webchat__render-markdown__citation,
    .webchat__citation,
    .webchat__link-definitions__list, 
    .webchat__link-definitions__header,
    button.webchat__link-definitions__list-item {
      display: none !important;
    }

    /* ────────────────────────────────────────────────
       RESPONSIVE DESIGN
    ───────────────────────────────────────────────── */

    /* Very small phones – 320–480px */
    @media (min-width: 320px) and (max-width: 480px) {
      .cb-launcher {
        bottom: 16px;
        right: 16px;
        padding: 6px 8px 6px 12px;
        border-radius: 10px;
      }
      .cb-launcher-text {
        font-size: 14px;
        margin: 0 10px;
      }
      .cb-launcher-logo { width: 26px; height: 26px; }
      .cb-launcher-icon-box { width: 30px; height: 30px; font-size: 20px; }

        

      .cb-header-banner {
        padding: 10px 16px;
        height: 36px;
      }
      .cb-header-logo { width: 70px; height: 44px; }
      .cb-banner-text { font-size: 16px; bottom: 10px; }
      .cb-close-btn { font-size: 30px; }

      [role="main"] .webchat__suggested-action {
        width: 90% !important;
        min-height: 5.8vh !important;
        
      }
      [role="main"] .webchat__suggested-action__text {
        font-size: 10px !important;
      }
[role="main"] .webchat__suggested-actions__stack {
      margin-bottom:100px;
   

      [role="main"] .webchat__send-box__main {
        margin-left: 10px;
        margin-right: 10px;
        margin-top: 0px;
        margin-bottom:30px;
        padding: 8px !important;
        height: 20px !important;
       
        
      }

      .webchat__send-box__text-box__input {
        font-size: 13.5px !important;
        padding: 10px !important;
      }

      .cb-ai-disclaimer {
        font-size: 9.5px;
        bottom: 90px;
        background:#ffffff;
      }
  .webchat__send-box .webchat--css-xileg-12ncq6r .webchat--css-xileg-1bfjcn2 .webchat--css-xileg-6su6fj{
    margin-bottom:30px !important;
  }
    }

    /* Phones landscape + small tablets – 481–767px */
    @media (min-width: 481px) and (max-width: 767px) {
      .cb-launcher {
        bottom: 20px;
        right: 20px;
      }

      .cb-header-banner {
        padding: 10px 18px;
      }

      [role="main"] .webchat__suggested-action {
        width: 86% !important;
      }

     [role="main"] .webchat__send-box__main {
        margin-left: 10px;
        margin-right: 10px;
        margin-top: 0px;
        margin-bottom:30px;
        padding: 8px !important;
        height: 20px !important;
        
      
      }
       .cb-ai-disclaimer {
        background:#ffffff;
      }
       [role="main"] .webchat__suggested-actions__stack {
      margin-bottom:100px;
    } 
       .webchat__send-box .webchat--css-xileg-12ncq6r .webchat--css-xileg-1bfjcn2 .webchat--css-xileg-6su6fj{
    margin-bottom:30px !important;
  }
    }

    /* Tablets – 768–1024px */
    @media (min-width: 768px) and (max-width: 1024px) {
      .cb-panel {
        width: 380px;
        max-width: 85vw;
      }

      .cb-header-logo { width: 78px; height: 57px;}
      .cb-banner-text { font-size: 17px; }

      [role="main"] .webchat__suggested-action {
        width: 80% !important;
        min-height: 6.2vh !important;
      }

      .cb-ai-disclaimer {
        bottom: 108px;
        background:#ffffff;
      }
    }

    /* Small laptops / narrow desktops – 1025–1280px */
    @media (min-width: 1025px) and (max-width: 1280px) {
      .cb-panel {
        width: 400px;
      }
       .cb-ai-disclaimer {
        background:#ffffff;
      }
    }

    /* Large desktops – 1281px+ */
    @media (min-width: 1281px) {
      .cb-launcher {
        padding: 8px 8px 8px 16px;
      }
      .cb-launcher-text { font-size: 17px; }
       .cb-ai-disclaimer {
        background:#ffffff;
      }
    }
  </style>
</head>
<body>

<div class="cb-chat-wrapper" id="cb-ai-wrapper">
  <div class="cb-launcher" id="chat-launcher" onclick="openCbChat()">
    <div class="cb-launcher-content">
      <img alt="CB" class="cb-launcher-logo" src="https://play-lh.googleusercontent.com/7E8SgT9CCbsd73Vnbr3cD9E5a2LIiNaKL9cGhWHXq4JuTJd7mxu4DkF1-yI74APnqog" /> 
      <span class="cb-launcher-text">CB AI Agent</span>
    </div>
    <div class="cb-launcher-icon-box"><span class="cb-plus-icon">+</span></div>
  </div>

  <div class="cb-panel" id="cb-chat-panel">
    <div class="cb-header-banner">
      <div class="cb-header-left">
        <img alt="CB Logo" class="cb-header-logo" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGEAAAAtCAYAAAC+nAW0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAniSURBVHhe7ZuJd9XFFcf7h7S1VVGqqIgrbuCG4lJt1dNSu1C3qnWruKK10qqo1aNFWk9tyxZIWBMCEQhhCzshhD2QBQIhkI0QEgghELh9n8nvvsx7md97eZiX/Djnfc+5J8n8Zub93nznLnPv5HsXfn+CpKRvJUVCACRFQgAkRUIApM9JuLzfFLl76Bx59aV8+c+/t0ve4v2yc/thOXDgmByub5Xa2hbZu6dJNhbUyLy5e+SLz4rkid8ulpuum+Gc73yUPiNh6M2z5L3Ra2X1yoPS3n5WEkVNdYtkTN0tf3hyifzkosnOzzhfpNdJuO3GmfLN19vkYNVxbzk7wc7fv69ZSnYfkR3bDsu2rfVGdu5okLKyRqmsbJaW46e83p0o2FAj77y1xvl554P0Kgkf/bWgy+Lzd/7yKlmaV2lM0cr8Klm/tlo2baw1BGwuqjOLvHb1IVm2pFKWLK40P2k7ceK0N0sH1qw6JI//YqHzs4MsvULC4Gumm8VTnDlzVvaUH5X52XslZ95eWb70gFSFfMCpU2e8Hm6cDVmtlpbTsqu4Qb6dX2HGQ0jD4VavhxhiPvloo1z0A/e7BFGSTsID98yV3buOeEskUld3QrKz9kjmrDLZuqXea+0AC8iCYu8xP9tDJgknXbm/2YxrPHLSEKg40tBqtGhGRonRgtOnO0mcPbNU+l94fviKpJLw2M9yzMIpsPNTJhUbU2KjtKRR8ldUGXIWL9ov69dVGzMESUhRYa2sCjlwdj+yYX211NS0eKNFGhtPmsiJhbfbcfoDLpnifLcgSdJIeOShnAgnumLZAcmYViLVhzp9Ag44a065zJpRKoUFtXLo4HGn4wVowNGjbVKxt8mYICIjftbXn/B6iCFs6pRdUl521GsRoymX/GiS8x2DIkkh4fZbZocXm8XD4WL7W1vbTVtzc5ss/LbC7Nyy0sYIM0K4ysJCkJojzgnHj50yPkHB7menQyxnCAXnC9oYr8Bcud4zKJIUEjApCqKdRQv2hW05YSa7eN2aThve1tYuxTsbjKMlSsIcESHRB+F3oiNMEQ7ejrDwC5mzyyNIRqPS03abcFfx7ttrne8aBOlxEsa8t9772mJ28dzMcmn3FhtTkjZ5l3G6Cnb7zOmlRjOw/ZgcF9ACdjkOGBOG/8CBK/Ap7HiiJwDZEKHz4diDesruURKGDc0Mx+4cvDA36phZwMkTi8MLhxbgTOfMLDMmyYVjIROki2oDk4Vzx/7bERZtkI5mgS2b6yK0ELN46Y+D5x96lAQWXYFpQRMAJmN6eokJNUFTU5tZfM4HqiWAyIb80bNPLZUHh2cbUu+5I9NEWZyI0RZdYMDuZvdjqhRoBPMqIMEmasRjC5zv3pfSoyT8/MH5ZjeiBfbCsAOLNtWZ31lEdqsdpuJ0P/90k1w/MMM5rwpRDqTk5Xb6HDQF84TvAGgY/kHPJiQAcdz4i8kTiuXK/mnOuftSetwncFLlxKrA5i/IqfD+ChESWkAcrQL/QDjrmiuW4Hs08QeJaKFGRGgImkY7QMN+M2KRc54gSI+ToPLBmA0mFCXqYTcCFty20TjqGwdNd47vjjz/zDIzD2Dh0Qj1IZw78D98/rmQ3JuSNBIQUhacfAG7kt1J+Ag4C5DOdo1LRD7+sFPrCG1tM/ivr7bKNVemO8cFSZJKAnLdwHRzWsY52w7ys08Knf0TFcyfmjeIJiI6ebLdFH9c/YMoSScB6RdyqGP/VmAWCqANl13cc8m1Z55Y4s0sJmUx4tHgRUCxpFdIUBn9xupwNON6fq5yw9UZRtMg4OH75zn7BFl6lQTk0YdzTPzvevZdhOgHMlzPgi69TkJKukqKhABIioQASLdJoE780+HZcteQOc7n8eTqy6fKvXdmmVoDwjy33HDuWc0Bl6aZOe64tWM+fnZ3vlj9iNruuzurS42avxn3wL3ZEb7n5utDbaHzkMsfDbs90/g/8mDRz2yJSwIfSn1gX0WTqXpxMiVJ9vIfVyRUw+VcQE6JWgAnWQ5rZFapjkGua0ws+XRsoZmH4hE/eS/m47D2u1/lOscg3HWizvD+u+ucz196frmpc3O2sTOug66YZlLtZIU5dNLGc26F0EZ1UPsSklPj4J1IVsaLBmOSQFqACpYfXnh2mXOcSyb9b6c3qitYxHjJu2jhNOwH0iTswugxbBrq2QDCXGntUa+sNM8BxSdt59CptQmSj7Qxn64Pp3Xty70qBSRx10qfucSXBFRd8zBkPslAPjUyT155YYW5D8SLDL62+3kfXTRS11S5Rj6eK19+XhSuKXMN0jXOT/TwR9b07x8Xyshf58qHYzaE35kkYvSYF59bbp4pOLdE9+FGn433/9yhMZhTreihvbRBIvkvQJqdNtZHQZ2kOybSlwRuRQAylW+OWhXx7Ir+aQkXR5QEUspqxlBxrUW//XrXBYklmjMiVWHvNM1NffXl5oj+XJVkt9ogjRJtUp97eqn3tAMUlobflWWeUa0DNglaQmVD6aERYIbuHzY3Ym4/8SUBdQX6gd9VlAQyqNSdKcaT5gbY2kEDpjnH+YmduEPlKe6QOQVkTofcFJkcRPMAZVLyS5oGRzvsftEkAC6qUYfgvYFNghaqIFhT6fjPRPycLwlqJrBvrueJSiwbTpHHNSaW2CREg8Ch3wUTw33Z7Vx9AdxZuvaq9LBWcJ/J1molATNH2l3LtRCstXGXJtggOND5uiO+JCjDfCHX80TF1gQqX5g7fhJZ8IV57hrnJ0oC81HO5AIBEQkFHHY5mqZhJuVRxfhxW8yFsHFfbPZaIkueSgLzUuugrBoNmwR2fTT4PtS/dc544ksCX0rxxquRPgFbnmiZUElgZ9nt/xzX0c4us9vjiZKAI7adH6EnYHH0HSmvKiCdaEwvIIDchfvC421z9MtHFpiSKtpjw48Ebo1wvVPxl3fcYXC0+JKATbWvn7CzsJ9vvbbaXGfEjt9522znWJfoYhMdEcUQ3jIXkRbgUoBrnJ9odMSu/3r8VvNuo17OD5sZ/AIHLw5xWsmLBc5DzGtHR+ovhgyeZc44CpsEjY54fz7v4h9ODPtTgoaH7ouf1fUlASEvj5f3QyL/E/Dfb3Z4o9wY/WZi/18w/h9bvJFucJijH/eUFFwm4L98CLX5yQFSwWUA+v/pxXyvRczBTT8PrdCbHtz8ow1fo3dfuQelfbmer4C8eFFSTBIQUg2cEYgQYJZTILfknv59ngy8bKpzjEvGfrDRhHuEeYSRHKgIT9EoTrGuMbGEMSwAcyH8jrAjMVXsUm5mcOWez/U7tXL65Tnfi9CblLiaLM4edl8uF9BXT8yYKjSPNiyF3RdNVe3R/n4Sl4SUJF9SJARAUiQEQFIkBEBSJPS5TJD/A/FZelPjOqKNAAAAAElFTkSuQmCC" /> 
        <span class="cb-banner-text">CB AI Agent</span>
      </div>
      <div class="cb-close-btn" onclick="closeCbChat()">×</div>
    </div>

    <div class="cb-chat-container" id="webchat" role="main"> </div>

    <div class="cb-ai-disclaimer" id="ai-disclaimer-box">
      <i>This message is generated by AI to provide faster assistance.</i>
    </div>
  </div>
</div>

<script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
<script>
  const botSecret = "SECRET_PLACEHOLDER";

  function openCbChat() {
    document.getElementById('cb-chat-panel').classList.add('open');
    document.getElementById('chat-launcher').style.display = 'none';
    renderCbChat();
  }

  function closeCbChat() {
    const panel = document.getElementById('cb-chat-panel');
    panel.classList.remove('open');
    setTimeout(() => {
      document.getElementById('chat-launcher').style.display = 'flex';
    }, 350);
  }

  let hasRendered = false;

  function renderCbChat() {
    if (hasRendered) return;
    hasRendered = true;

    const styleOptions = {
      accent: '#0242bd',
      bubbleBackground: '#f5fbfc',
      bubbleTextColor: '#000000',
      bubbleBorderRadius: 10,
      bubbleFromUserBackground: '#e0faff',
      bubbleFromUserBorderColor: '#d1d1d1',
      bubbleFromUserBorderRadius: 10,
      sendBoxHeight: 50,
      hideUploadButton: true,
      suggestedActionLayout: 'stacked'
    };

    const store = window.WebChat.createStore({}, ({ dispatch }) => next => action => {
      if (action.type === 'DIRECT_LINE/CONNECT_FULFILLED') {
        dispatch({
          type: 'WEB_CHAT/SEND_EVENT',
          payload: { name: 'startConversation', value: '' }
        });
      }
      return next(action);
    });

    window.WebChat.renderWebChat({
      directLine: window.WebChat.createDirectLine({ secret: botSecret }),
      store: store,
      styleOptions: styleOptions
    }, document.getElementById('webchat'));
  }
</script>

</body>
</html>
